"use strict";function asyncGeneratorStep(r,e,t,n,o,a,i){try{var s=r[a](i),c=s.value}catch(r){return void t(r)}s.done?e(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var a=r.apply(e,t);function i(r){asyncGeneratorStep(a,n,o,i,s,"next",r)}function s(r){asyncGeneratorStep(a,n,o,i,s,"throw",r)}i(void 0)})}}function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_nonIterableRest()}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_nonIterableSpread()}function _arrayWithoutHoles(r){if(Array.isArray(r)){for(var e=0,t=new Array(r.length);e<r.length;e++)t[e]=r[e];return t}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _iterableToArray(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function _iterableToArrayLimit(r,e){var t=[],n=!0,o=!1,a=void 0;try{for(var i,s=r[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!e||t.length!==e);n=!0);}catch(r){o=!0,a=r}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return t}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.map=function(r,e,t){return Object.entries(r).map(e,t)},String.prototype.reverse=function(){for(var r="",e=this.length-1;e>=0;e--)r+=this.charAt(e);return r},Array.prototype.single=function(){if(this.length>1)throw new Error("Array has more than one element. (".concat(this.length,")"));if(0===this.length)throw new Error("Array is empty");return this[0]},Array.prototype.singleOrNull=function(){if(this.length>1)throw new Error("Array has more than one element. (".concat(this.length,")"));return 0===this.length?null:this[0]};var oldFilter=Array.prototype.filter;Array.prototype.filter=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(r){return!!r},e=arguments.length>1?arguments[1]:void 0;return oldFilter.call(this,r.bind(e))},Array.prototype.asyncAll=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,n,o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=!0,t=!1,n=void 0,r.prev=3,o=this[Symbol.iterator]();case 5:if(e=(a=o.next()).done){r.next=18;break}if(!((i=a.value)instanceof Function)){r.next=11;break}return r.next=10,i();case 10:i=r.sent;case 11:return r.next=13,i;case 13:if(r.sent){r.next=15;break}return r.abrupt("return",!1);case 15:e=!0,r.next=5;break;case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(3),t=!0,n=r.t0;case 24:r.prev=24,r.prev=25,e||null==o.return||o.return();case 27:if(r.prev=27,!t){r.next=30;break}throw n;case 30:return r.finish(27);case 31:return r.finish(24);case 32:return r.abrupt("return",!0);case 33:case"end":return r.stop()}},r,this,[[3,20,24,32],[25,,27,31]])})),Array.prototype.all=function(){var r=!0,e=!1,t=void 0;try{for(var n,o=this.entries()[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var a=_slicedToArray(n.value,2),i=a[0],s=a[1];if(s instanceof Function&&(s=s()),s instanceof Promise){var c=_toConsumableArray(this);return c.slice(i),c.asyncAll()}if(!s)return!1}}catch(r){e=!0,t=r}finally{try{r||null==o.return||o.return()}finally{if(e)throw t}}return!0},Array.prototype.anyAsync=_asyncToGenerator(regeneratorRuntime.mark(function r(){var e,t,n,o,a,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:e=!0,t=!1,n=void 0,r.prev=3,o=this[Symbol.iterator]();case 5:if(e=(a=o.next()).done){r.next=18;break}if(!((i=a.value)instanceof Function)){r.next=11;break}return r.next=10,i();case 10:i=r.sent;case 11:return r.next=13,i;case 13:if(!r.sent){r.next=15;break}return r.abrupt("return",!0);case 15:e=!0,r.next=5;break;case 18:r.next=24;break;case 20:r.prev=20,r.t0=r.catch(3),t=!0,n=r.t0;case 24:r.prev=24,r.prev=25,e||null==o.return||o.return();case 27:if(r.prev=27,!t){r.next=30;break}throw n;case 30:return r.finish(27);case 31:return r.finish(24);case 32:return r.abrupt("return",!1);case 33:case"end":return r.stop()}},r,this,[[3,20,24,32],[25,,27,31]])})),Array.prototype.any=function(){var r=!0,e=!1,t=void 0;try{for(var n,o=this[Symbol.iterator]();!(r=(n=o.next()).done);r=!0){var a=n.value;if(a instanceof Function&&(a=a()),a instanceof Promise){var i=_toConsumableArray(this);return i.slice(idx),i.asyncAny()}if(a)return!0}}catch(r){e=!0,t=r}finally{try{r||null==o.return||o.return()}finally{if(e)throw t}}return!1},Array.prototype.flat=function(){return this.reduce(function(r,e){return Array.isArray(e)?r.concat(e.flat()):r.concat(e)},[])};var supportsNegativeLookbehind=function(){try{return!0}catch(r){return!1}}();RegExp.escapeExpression=function(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},RegExp.notStartsWith=function(r,e){return r.constructor===RegExp?(r=r.source,e=1===arguments.length?r.flags:e):r=RegExp.escapeExpression(r),new RegExp("^(?!".concat(r,").*$"),e)},RegExp.notContains=function(r,e){return r.constructor===RegExp?(r=r.source,e=1===arguments.length?r.flags:e):r=RegExp.escapeExpression(r),new RegExp("^(?:(?!".concat(r,").)*$"),e)};var repCasedChar=supportsNegativeLookbehind?function(r,e){var t=e.toUpperCase(),n=e.toLowerCase();return t!==n?"[".concat(n).concat(t,"]"):e}:function(r,e){var t=e.toUpperCase(),n=e.toLowerCase();return t!==n?"[".concat(n).concat(t,"]").reverse():e.reverse()};RegExp.fakeCaseInsensitive=function(r){return r.constructor===RegExp&&(r=r.source),supportsNegativeLookbehind?r.replace(/(?<!\\)((?:\\\\)*[^\\\s])/g,repCasedChar):r.reverse().replace(/([^\\]|(?:\\\\)*)(?!\\)/g,repCasedChar).reverse()},Set.prototype.toggle=function(r){return this.has(r)?(this.delete(r),!1):(this.add(r),!0)},Set.prototype.toArray=function(){return Array.from(this)},Set.prototype.toJSON=Set.prototype.toArray,Map.prototype.toObject=function(){var r={},e=!0,t=!1,n=void 0;try{for(var o,a=this.entries()[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=_slicedToArray(o.value,2),s=i[0],c=i[1];if(r.hasOwnProperty(s)&&r[s]!==c)throw new Error("Duplicate key ".concat(s," found in Map.  First value: ").concat(r[s],", next value: ").concat(c));r[s]=c}}catch(r){t=!0,n=r}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}return r},Map.prototype.toJSON=function(){return Array.from(this.entries())},Promise.delay=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?new Promise(function(e,t){return setTimeout(t,r)}):new Promise(function(e){return setTimeout(e,r)})};
